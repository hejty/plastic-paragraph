<link rel="import" href="../polymer/polymer.html">

<!--
A Polymer element to put any paragraph of text inside a shape you choose (Experimental)

##### Example

<p is="plastic-paragraph"></p>

@element plastic-paragraph
@blurb A Polymer element to put any paragraph of text inside a shape you choose
@version 1.0.0
@extends p
@homepage https://github.com/hejty/plastic-paragraph
-->

<dom-module id="plastic-paragraph">

  <style>
    :host {
      text-align: justify;
    }

    #container {
      position: relative;
    }

    #left,
    #right {
      width: 50%;
      height: 100%;
    }

    #left {
      float: left;
    }

    #right {
      float: right;
    }
  </style>

  <template>

    <div id="container" style$="[[setMaxWidth(size)]]">
      <img id="left" src="shapes/transparent-layer.png" style$="[[setLeftSide(shape)]]">
      <img id="right" src="shapes/transparent-layer.png" style$="[[setRightSide(shape)]]">
      <content id="content"></content>
    </div>

  </template>

  <script>
    (function() {

      Polymer({

        is: 'plastic-paragraph',

        extends: 'p',

        properties: {

          /**
           * The `shape` attribute sets a wrapped shape
           *
           * @attribute shape
           * @type string
           * @default 'circle'
           */

          shape: {
            type: String,
            value: 'circle'
          },

          /**
           * The `size` attribute sets a size of an element
           *
           * @property size
           * @type int
           * @default 600
           */

          size: {
            type: Number,
            value: 600
          }

        },

        setMaxWidth: function(size) {
          return 'max-width: ' + size + 'px;';
        },

        setLeftSide: function(shape) {
          return 'shape-outside: url(shapes/emulate-' + shape + '-left.png); -webkit-shape-outside: url(shapes/emulate-' + shape + '-left.png);';
        },

        setRightSide: function(shape) {
          return 'shape-outside: url(shapes/emulate-' + shape + '-right.png); -webkit-shape-outside: url(shapes/emulate-' + shape + '-right.png);';
        },

        ready: function() {

        }

      });

    })();
  </script>

</dom-module>
